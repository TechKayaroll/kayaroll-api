{
  "openapi": "3.0.1",
  "info": {
    "version": "1.3.0",
    "title": "Kayaroll API Documentation",
    "description": "User management API",
    "termsOfService": "http://api_url/terms/",
    "contact": {
      "name": "kayaroll-api"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "servers": [
    {
      "url": "http://localhost:7070/",
      "description": "Local server"
    },
    {
      "url": "https://api_url_testing",
      "description": "Testing server"
    },
    {
      "url": "https://api_url_production",
      "description": "Production server"
    }],
  "paths": {
    "/users/user/register-user": {
      "post": {
        "tags": ["users"],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User Registration"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response Register User"
                },
                "examples": {
                  "data": {
                    "$ref": "#/components/examples/User Registration Return Example"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "Company Id Not Exists",
                  "data": {},
                  "code": 400
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "example": {
                  "message": "Internal Server Error",
                  "data": {},
                  "code": 500
                }
              }
            }
          }
        }
      }
    },
    "/users/user/register-admin": {
      "post": {
        "tags": ["users"],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User Registration Admin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Response Register User Admin"
                },
                "examples": {
                  "data": {
                    "$ref": "#/components/examples/User Registration Admin Return Example"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "example": {
                  "message": "Company Name Is Exists",
                  "data": {},
                  "code": 400
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "example": {
                  "message": "Internal Server Error",
                  "data": {},
                  "code": 500
                }
              }
            }
          }
        }
      }
    }
  },

  "components": {
    "examples":{
      "User Registration Return Example": {
        "summary": "Sample Return User Register",
        "value": {
          "message": "OK",
          "data": {
            "userId": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",
            "fullname": "Roy Kane",
            "organization": "PT. Company",
            "role": "employee",
            "profilePict": "https://link_pict.com/iouytret"
          },
          "code": 200
        }
      },
      "User Registration Admin Return Example": {
        "summary": "Sample Return User Register",
        "value": {
          "message": "OK",
          "data": {
            "userId": "ewJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ3",
            "fullname": "",
            "organization": "PT. Company",
            "role": "admin",
            "profilePict": "",
            "invitationCode": "KYL-IUO-1010"
          },
          "code": 200
        }
      }
    },

    "schemas": {
      "User Registration": {
        "type": "object",
        "properties": {
          "companyId": {
            "type": "string",
            "description": "Companyi Id Format: 3 character from name company + Random string + dateCreated(ddmmyy)",
            "example": "KYL-IUO-1010"
          },
          "token": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImplZnJ5LndpZGlhbnRvQGxvZ2thci5jb20iLCJleHBpcmVkIjoiMjAxOS0xNC0xMSAwMzozMjozMiJ9.b26Oe8TUERuB1-32WqHZ-mdNd1LnRt9Y8wnH150QBcU"
          }
        }
      },
      "User Registration Admin": {
        "type": "object",
        "properties": {
          "companyName": {
            "type": "string",
            "example": "PT. Company"
          },
          "email": {
            "type": "string",
            "example": "abc@email.com"
          }
        }
      },

      "Response Register User": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "userId": {
                "type": "string"
              },
              "fullname": {
                "type": "string"
              },
              "organization": {
                "type": "string"
              },
              "role": {
                "type": "string"
              },
              "profilePict": {
                "type": "string"
              }
            }
          }
        }
      },
      "Response Register User Admin": {
        "type": "object",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "user_id": {
                "type": "string"
              },
              "fullname": {
                "type": "string"
              },
              "organization": {
                "type": "string"
              },
              "role": {
                "type": "string"
              },
              "profilePict": {
                "type": "string"
              },
              "invitationCode": {
                "type": "string"
              }
            }
          }
        }
      },

      "Response": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "data": {
            "type": "object"
          },
          "code": {
            "type": "integer"
          }
        }
      }
    }
  }
}